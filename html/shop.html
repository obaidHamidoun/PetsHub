<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetsHub</title>
    <link rel="icon" href="../images/index/whiteIcon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="../css/index.css"> -->
    <link rel="stylesheet" href="../css/home.css">
    <link rel="stylesheet" href="../css/shop.css">

</head>
<body>


    <div id="loading-screen">
        <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script> 
        <dotlottie-player src="https://lottie.host/3ba0221d-89e6-4669-a13c-225a73069cf7/ACDmsI1oFx.json" background="transparent" speed="1" style="width: 10vw; height: 10vw;" loop autoplay></dotlottie-player>
      </div>
      
<nav>

    <div class="headerOfNav">
        <div class="closeButton"></div>
    </div>
    <div class="UserPfp"></div>
    <p class="UserName">Username</p>

    <div class="pages">

      <div class="page" onclick="window.location.href='home.html'">
        <div class="PageIcon HomePage"></div>
        <p>Home</p>
      </div>


      <div class="page ShopPageDiv" onclick="window.location.href = 'shop.html'">
        <div class="PageIcon ShopPage"></div>
        <p>Shop</p>
      </div>


      <div class="page"  onclick="window.location.href = 'cart.html'">
        <div class="PageIcon CartPage"></div>
        <p>Cart</p>
      </div>


      <div class="page">
        <div class="PageIcon DayCarePage"></div>
        <p>Daycare</p>
      </div>


      <div class="page">
        <div class="PageIcon SettingsPage"></div>
        <p>Settings</p>
      </div>


    </div>

</nav>


<div class="searchPage">
    <div class="closeDiv">
        <div class="closeSearchButton"></div>
    </div>
    <div class="searchInput">
        <input type="text" class="searchProductInput" name="searchProductInput" placeholder="Search for a product">
        <button type="submit" for="searchProductInput" class="searchButton"></button>
    </div>
</div>


    <header>
    <div class="headerContainer">
        <div class="MainLogo shopLogo" onclick="window.location.href = 'home.html'"></div>
            <div class="ContainerOfMenuAndSearch">
                <div class="searchIcon"></div>
                <div class="menuButton"></div>
            </div>

    </div>
    </header>



<main>
    <!--products-->
    <section class="newProducts">
        <h2 class="newProTitle title">New Products</h2>
        <!--new products-->
        <div class="products new onlyNewProducts">
           
        </div>
    </section>

    <section class="ToysAndAcc">
        <h2 class="toysAcc title">Toys and Accessories</h2>
        <div class="products toys-acces">

        </div>
    </section>


    <section class="Grooming">
      <h2 class="toysAcc title">Grooming & Supplies</h2>
      <div class="products toys-acces">
          <div class="products new groomingSUp">
      </div>
  </section><br>




  <section class="BeddingandComfort">
    <h2 class="toysAcc title">Bedding and Comfort</h2>
    <div class="products toys-acces">

        <div class="products new bedcomfrt"></div>

    </div>
</section>


<section class="BeddingandComfort">
    <h2 class="toysAcc title">Food And Feeding</h2>
    <div class="products toys-acces">

        <div class="products new FoodFeeding"></div>

    </div>
</section>
    


</main>




<footer>

  <div class="socials" id="scls">
      <div class="WhatsappLink"  onclick="window.location.href = 'https://www.whatsapp.com/'"></div>
      <div class="XLink" onclick="window.location.href = 'https://www.x.com/'"></div>
      <div class="FooterLogo"></div>
      <div class="FacebookLink" onclick="window.location.href = 'https://www.facebook.com/'"></div>
      <div class="InstagramLink" onclick="window.location.href = 'https://www.instagram.com/'"></div>
  </div>

</footer>


    <script src="../js/home.js"></script>
    <script src="../js/shop.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.4/lottie.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
function scrollToSection(sectionId) {
    const section = document.getElementById(sectionId);
    if (section) {
      section.scrollIntoView({ behavior: 'smooth' });
    }
  }

  window.addEventListener('load', function() {
    var loadingScreen = document.getElementById('loading-screen');
    var mainContent = document.getElementById('main-content');
  

    loadingScreen.style.display = 'none';
    mainContent.style.display = 'block';
  });


  let xml = new XMLHttpRequest();
    xml.open("GET", "../php/newProducts.php", true);
    xml.setRequestHeader("Content-Type", "application/json");
    xml.send();
    xml.onload = function(){
    document.querySelector('.onlyNewProducts').innerHTML += xml.responseText;
}
  
let ntoysAccesoriesXML = new XMLHttpRequest();
    ntoysAccesoriesXML.open("GET", "../php/categoryToysAcce.php", true);
    ntoysAccesoriesXML.setRequestHeader("Content-Type", "application/json");
    ntoysAccesoriesXML.send();
    ntoysAccesoriesXML.onload = function(){
    document.querySelector('.toys-acces').innerHTML += ntoysAccesoriesXML.responseText;
}
  

let groomXML = new XMLHttpRequest();
    groomXML.open("GET", "../php/categoryGrooming.php", true);
    groomXML.setRequestHeader("Content-Type", "application/json");
    groomXML.send();
    groomXML.onload = function(){
    document.querySelector('.groomingSUp').innerHTML += groomXML.responseText;
}

let BedAndComfortXML = new XMLHttpRequest();
    BedAndComfortXML.open("GET", "../php/categoryBedComft.php", true);
    BedAndComfortXML.setRequestHeader("Content-Type", "application/json");
    BedAndComfortXML.send();
    BedAndComfortXML.onload = function(){
    document.querySelector('.bedcomfrt').innerHTML += BedAndComfortXML.responseText;
}

let FoodFeeding = new XMLHttpRequest();
    FoodFeeding.open("GET", "../php/categoryFoodFeeding.php", true);
    FoodFeeding.setRequestHeader("Content-Type", "application/json");
    FoodFeeding.send();
    FoodFeeding.onload = function(){
    document.querySelector('.FoodFeeding').innerHTML += FoodFeeding.responseText;
}



fetch('../php/checkSession.php')
    .then(response => response.json())
    .then(data => {
        if (data.loggedIn) {
            // User is logged in
            const userId = data.userId;
            const userData = data.userData;

            console.log('User ID:', userId);
            console.log('User data:', userData);
            document.querySelector('.UserName').innerHTML =  userData.first_name + ' ' + userData.last_name;

        } else {
            console.log('User is not logged in');

        }
    })
    .catch(error => {
        console.error('Error checking session:', error);
    });

    </script>
</body>
</html>
